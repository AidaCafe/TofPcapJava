package net.cassite.tofpcap;

import io.vproxy.base.util.ByteArray;

public class Test {
    public static void main(String[] args) {
        var data = ByteArray.fromHexString("a8010000140000000000000000000a000c000400000008000a0000005c04000088010000100000000c0010000400080000000c000c00000009000000a9060000680100001c00000000001600200000000400080000000c001000140018001c00160000000100000080000000300000001800000050000000010000000400000000000000000000000c0000006f664650636866756a7a6557000000002000000042383630363041343541353534394441383834353638364441433946423536420000000000000000000000001c0038002c00040008000c001000140018001c0020002400000028001c000000b40000006400000001000000900000007c00000068000000500000001800000070e603001c000000089c0000b6380000000000000400000031305f3200000000200000003044373146313641324534303439434141423134323534353635393731323741000000000e0000004176617461724672616d655f36370000080000004176617461723130000000000b000000636861745f716970616f350011000000e9b9a4e58689e79a84e5afbce5b8882c30000000060000005869634c69650000");

        var pktTypeTup = TofPcap.parsePacketType(data, 0);
        System.out.println("packet type = " + Integer.toHexString(pktTypeTup._1));

        var chatTup = TofPcap.parseChatMessage(data, pktTypeTup._2);
        System.out.println(chatTup._1);
    }
}
